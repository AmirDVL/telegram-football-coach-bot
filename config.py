import os
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

class Config:
    # Bot Configuration
    BOT_TOKEN = os.getenv('BOT_TOKEN')
    ADMIN_ID = int(os.getenv('ADMIN_ID', '0')) if os.getenv('ADMIN_ID', '').isdigit() else None
    
    # Multiple Admin Support
    @classmethod
    def get_admin_ids(cls):
        """Get list of admin IDs from environment variables"""
        admin_ids = []
        
        # Add primary admin
        if cls.ADMIN_ID:
            admin_ids.append(cls.ADMIN_ID)
        
        # Add additional admins from ADMIN_IDS
        admin_ids_env = os.getenv('ADMIN_IDS', '')
        if admin_ids_env:
            for admin_id in admin_ids_env.split(','):
                admin_id = admin_id.strip()
                if admin_id.isdigit():
                    admin_id_int = int(admin_id)
                    if admin_id_int not in admin_ids:
                        admin_ids.append(admin_id_int)
        
        return admin_ids
    
    DEBUG = os.getenv('DEBUG', 'False').lower() == 'true'
    
    # Database Configuration
    DB_HOST = os.getenv('DB_HOST', 'localhost')
    DB_PORT = int(os.getenv('DB_PORT', '5432'))
    DB_NAME = os.getenv('DB_NAME', 'football_coach_bot')
    DB_USER = os.getenv('DB_USER', 'postgres')
    DB_PASSWORD = os.getenv('DB_PASSWORD', 'password')
    
    # Use JSON files as fallback if DB is not configured
    USE_DATABASE = os.getenv('USE_DATABASE', 'False').lower() == 'true'
    
    # Payment Configuration
    PAYMENT_CARD_NUMBER = "1234-5678-9012-3456"
    PAYMENT_CARD_HOLDER = "ูุญูุฏ"
    
    @staticmethod
    def format_price(price: int) -> str:
        """Format price in a readable way"""
        if price >= 1000000:
            millions = price // 1000000
            if price % 1000000 == 0:
                return f"{millions}M ุชููุงู"
            else:
                remainder = (price % 1000000) // 1000
                if remainder == 0:
                    return f"{millions}M ุชููุงู"
                else:
                    return f"{millions}.{remainder}M ุชููุงู"
        elif price >= 1000:
            thousands = price // 1000
            if price % 1000 == 0:
                return f"{thousands}K ุชููุงู"
            else:
                return f"{thousands:,} ุชููุงู"
        else:
            return f"{price:,} ุชููุงู"
    
    # Course Prices (in Tomans)
    PRICES = {
        'in_person_cardio': 3000000,
        'in_person_weights': 3000000,
        'online_weights': 599000,
        'online_cardio': 599000,
        'online_combo': 999000
    }
    
    # Default coupon codes (can be overridden by admin-created ones)
    DEFAULT_COUPONS = {
        'WELCOME10': {'discount_percent': 10, 'active': True, 'description': 'ุฎูุดโุขูุฏฺฏู 10%'},
        'STUDENT20': {'discount_percent': 20, 'active': True, 'description': 'ุชุฎูู ุฏุงูุดุฌู 20%'},
        'VIP50': {'discount_percent': 50, 'active': False, 'description': 'ุชุฎูู ูฺู 50%'}
    }
    
    # Messages
    WELCOME_MESSAGE = """ุณูุงู ุฑูู ุฎูุจู๐

ุฑู ูุฑ ฺฉุฏูู ุงุฒ ุฏูุฑู ูุง ูุฏูุธุฑุช ฺฉู ฺฉูฺฉ ฺฉู ุงุทูุงุนุงุชุด ุจุฑุงุช ุงุฑุณุงู ูุดู ุชุง ุจุชูู ููุงุณุจ ุชุฑูุดู ูุชูุงุณุจ ุจุง ูุฏูุช ุงูุชุฎุงุจ ฺฉู

ู ุจุฏูู ฺฉู ุชู ูุฑฺฉุฏูู ุงุฒูุง ูู ฺฉูุงุฑุชู ู ุจุงูุงุณุฑุชู๐ฉด๐โ ุชุง ุจุด ุงูู ฺุฒ ฺฉู ูุฎูุงโฆ"""
    
    QUESTIONNAIRE = """ุงุณู ููุงูู ุฎูุฏุช ุฑู ูุงุณู ุจููุณ.
ุณู
ูุฏ
ูุฒู
ฺู ูฺฏ ุจุงุฒ ฺฉุฑุฏ ุ
ฺูุฏุฑ ุชุงู ุฏุงุฑ ุ
ุจุฑุง ฺู ูฺฏ ู ูุณุงุจูุงุช ูุฎูุง ุงูุงุฏู ุดุ
ูุตู ุจุนุฏ ุชู ุฏุงุฑ ุจุง ูุฎูุง ุชุณุช ุจุฑุ
ฺฉ ูุงู ฺฏุฐุดุชู ุชูุฑู ููุงุฒ ู ูุฒูู ุฏุงุดุชุ
ุงฺฏู ุชูุฑู ุฏุงุดุช ุจุง ุฌุฒุฆุงุช ุจุฑูุงูู ุชูุฑู ููุงุฒ ู ูุฒูู ุงุช ุฑู ุจุฑุงู ุจูุฑุณุช
ุจุฑุง ุชูุฑู ููุงุฒ ุชููพุ ฺฉูุฒุ ุฒูู ุฏู ุฏุณุชุช ูุณุชุ(ุจุฑุงุณุงุณ ุงูู ุชูุฑู ููุงุฒ ุจููุณู)
ุจู ุนููุงู ฺฉ ุจุงุฒฺฉู ุจุฒุฑฺฏุชุฑู ุฏุบุฏุบู ุช ฺูุ(ูุฏุฑุช ุุณุฑุนุช ุ ุญุฌู ูโฆ.)
ุงูุงู ุงููุฑุงุฏ ุชูุฑู ูฺฉู ุง ุจุง ุชูุ
ุงุฒ ูุธุฑ ุชูุ ุณุฎุชโุชุฑู ูุดฺฉูุงุช ุง ฺุงูุดโูุง ฺฉู ุชู ุชูุฑู ฺฉุฑุฏู ุฏุงุฑ ฺูุ
ุงฺฏู ูุฑุงุฑ ุจุงุดู ู ูุณูุช ุงุฒ ุจุฏูุชู ุชุบุฑ ุจุฏ ุงูู ฺูุ
ฺฉุฏูู ุดุจฺฉูโูุง ุงุฌุชูุงุน ุฑุง ุจุดุชุฑ ุงุณุชูุงุฏู ูโฺฉูุ
ุฎุจ ุดูุงุฑูโุชู ุจููุณุณุณ  !"""
    
    # Course Details
    COURSE_DETAILS = {
        'in_person_cardio': {
            'title': 'ุฏูุฑู ุชูุฑู ุญุถูุฑ: ููุงุฒ ุณุฑุนุช ฺุงุจฺฉ ฺฉุงุฑุจุง ุชููพ',
            'description': """ุจู ุฎูู ุชุฑู ุฏูุฑู ูู ุฎูุด ุงููุฏ
ุงูุฌุง ูุฑุงุฑู  ุฑู ุชูุงู ุถุนู ูุง ุจุงุฒฺฉู ุจุทูุฑ ุญุฑูู ุง ููุช ูุฐุงุฑู
ููุชู ุง ุณู ุฌูุณู ุชูุฑูู
ุชูุงู ูุงุฒูุง ุจุงุฒฺฉู ฺฉุงุฑ ูุดู ูุซู
ุงูุฒุงุด ููุณ
ุงูุฒุงุด ุณุฑุนุช ฺุงุจฺฉ
ุงูุฒุงุด ุชฺฉูฺฉ ุจุง ุชููพ(ุดูุชุ ุฏุฑุจู ู..)
ุงูุฒุงุด ูพุฑุด
ู ....

ุฏุฑ ูุงู ฑฒ ุฌูุณู
ุฑูุฒูุง ูุฑุฏ
ูุญุฏูุฏู ุชูุฑู: ูพููฺฉ
ุดูุฑู ณ ุชููู
ุณุงุนุช ุชูุฑู ู ููฺฉุดู ุฏูู ุฑู ุชู ูุง ุนุถู ูุด ุจูุช ูุฏู"""
        },
        'in_person_weights': {
            'title': 'ุฏูุฑู ุชูุฑู ุญุถูุฑ: ูุฒูู ุงุฎุชุตุงุต',
            'description': """ุจูุช ุชุจุฑฺฉ ูฺฏู ุชู ุฏูุฑู ุง ุฑู ุงูุชุฎุงุจ ฺฉุฑุฏ ฺฉู ููุท ุจุงุฒฺฉูุง ุญุฑูู ุง ู ุฎุงุต ูุงู ุณุฑุงุบุด๐๐ค
 ุชู ุงู ุฏูุฑู ุทูุฑ ุจุงูุงุช ฺฉุงุฑ ูุดู ฺฉู ุชุง ุญุงูุง ุชุฌุฑุจู ุงุด ูฺฉุฑุฏ
ุญุฑฺฉุงุช ูุฒูู ุง ฺฉู ุชูุฑู ูฺฉู ูฺ ุฌุง ุฏฺฏู ุง ฺฉุงุฑ ููฺฉูู ฺูู ....๐
ู ฺฏุฑู ฺฉุฑุฏู ุงุฎุชุตุงุต ู ูุชูุงูุช ูุฑ ูุฑ ุฌุง ุฏฺฏู ุฑู ุชุฌุฑุจู ูฺฉู ฺฉู ููุจูุช ู ุฏุงููู ุญุฑฺฉุช ููุงุตู ู ฺฉูุชุงู ุนุถูุงุช ุฑู ุจุฑุงุช ุญู ูฺฉูู
ุฎูุฏ ุญุฑฺฉุงุช ูุฒูู ุจูุช ฺฉูฺฉ ูฺฉูู ฺฉู
ุญุฌู ุฎูู ุจฺฏุฑ
ุงุณุชุงูุช ุจูุชุฑ ุจุดู
ูพุฑุด ู ุงุณุชุงุฑุช ูุงุช ุณุฑุน ุจุดู
ุดูุช ูู ุชุฑ ุจุฒู
ุชูู ุจู ุชูู ุนุงู ุจุด
ุนููฺฉุฑุฏุช ุนุฌุจ ุชุบุฑ ฺฉูู

ุชูุฑูุง ุฑูุฒุง ุฒูุฌ ูุณุช
ูุญุฏูุฏู ุชูุฑู: ุฎุงุจุงู ฺฉุงุดุงู (ฺฉูุงุฑ ูุชุฑู ฺฉุงุดุงู)
ุดูุฑู ณ ุชููู
ุญู ุนุถูุช ุจุงุดฺฏุงู ุฌุฏุงุณุช ฺฉู ุญุฏูุฏ ฑ ุชูููู
ุณุงุนุช ุชูุฑู ู ููฺฉุดู ุฏูู ุฑู ุชู ูุง ุนุถู ูุด ุจูุช ูุฏู"""
        },
        'online_weights': {
            'title': 'ุฏูุฑู ุชูุฑู ุขููุงู: ูุฒูู',
            'description': """ุงู ุฏูุฑู ูพุฑ ูุฑูุด ุชุฑู ุฏูุฑู ูู ุจูุฏู ฺฉู ุจุด ุงุฒ ูุฒุงุฑ ููุฑ ุชุง ุงูุงู ุงุฒุด ุงุณุชูุงุฏู ฺฉุฑุฏู
ฺุฑุง ุงููุฏุฑ ุฒุงุฏ๐
ฺูู ุฌุฏุฏุชุฑู ุญุฑฺฉุงุช ูุฒูู ุง ฺฉู ุจุงุฒฺฉูุง ุจุฒุฑฺฏ ุฏูุง ฺฉุงุฑ ูฺฉูู ุฑู ุงูุฑุฏู 
ุจูุช ุจุง ููู ุงุฏ ูุฏู ูุฑ ุญุฑฺฉุช ฺุทูุฑ ุฏุฑุณุช ุจุฒู
ฺฏุฑู ฺฉุฑุฏู ุงุฎุชุตุงุต ุฏุงุฑู ฺฉู ุจูุช ฺฉูฺฉ ูฺฉูู ููุจูุช ู ุฏุงููู ุญุฑฺฉุช ููุงุตูุช ุฒุงุฏ ุจุดู ู ฺฉูุชุงู ุนุถูุงุชุช ุงุฒ ุจู ุจุฑู

ุฏุงุฎู ุงู ุฏูุฑู
ุจูุช ฺฉูฺฉ ูฺฉูู ุญุฌู ุจูุชุฑ ุจฺฏุฑุ ุงุณุชุงูุช ุจูุชุฑ ุจุดูุ  ูพุฑุด ู ุงุณุชุงุฑุช ูุงุช ุณุฑุน ุชุฑ ุจุดุ ุชูู ุจู ุชูู ูู ุจุดุ ุดูุช ูุฏุฑุช ุจุฒู 
ุฏุฑ ฺฉู ุนููฺฉุฑุฏุช ุฌูุฑ ุชุบุฑ ฺฉูู ุฎูุฏุชู ุจุงูุฑุช ูุดู

ุจุฑูุงูู ูุง ด ูุฑุญูู ุฏุงุฑู ฺฉู ุจุฑุงุณุงุณ ุดุฑุงุท ูุจู ุงููุฏู ูพุด ูู ู ูุฏุช ุฒูุงู ฺฉู ุชู ุฏุงุฑ ุชุง ุจู ุงูุฌ ุงูุงุฏฺฏ ุจุฑุณ ุจูุช ูฺฏู ฺุทูุฑ ฺฉุงุฑ ฺฉู

ููุช ูุฑ ุจุฑูุงูู ตนน ุชูููู
ูุงุฑุฒ ุฑู ุงูุฌุงู ุฏุงุฏ ูุด ุฑู ูููุฌุง ุงุฑุณุงู ูฺฉู ู ูุฑู ุชู ฺฉุงุฑุด๐ค๐๐"""
        },
        'online_cardio': {
            'title': 'ุฏูุฑู ุชูุฑู ุงููุงู: ููุงุฒ ู ฺฉุงุฑุจุง ุชููพ',
            'description': """ุจู ุฏูุฑู ุง ฺฉู ุจุงูุงุช ฺฉุงุฑ ูฺฉูู ุฏฺฏู ุชู ุฒูู ููุณ ฺฉู ูุงุฑ ุฎูุด ุงููุฏ ุฑูู๐
ุงูุฌุง ุจูุช ูุฑ ุฌูุณู ุจุฑูุงูู ุง ูุฏู ฺฉู ุชูุด ูู ุจุง ุชููพ ู ูู ุจุฏูู ุชููพ ุชูุฑู ูฺฉู
ููุณุช ุฒุงุฏ ูุดู
ุชฺฉูฺฉ ููุชุจุงูุช ุงูุฒุงุด ูพุฏุง ูฺฉูู
ุจุงุฒฺฉู ุจูุชุฑ ู ุจุง ฺฉูุช ุชุฑ ูุด
ุจุฑูุงูู ูุง ุจุตูุฑุช ููู ู ุนฺฉุณ ุจุง ุฌุฒุฆุงุช ุชูุถุญ ุฏุงุฏู ุดุฏู

ุงุฒ ุดุฑูุน ุชูุฑู ุนู ฺฏุฑู ฺฉุฑุฏู ุจูุช ูฺฏู ุทูุฑ ฺฉุงุฑ ฺฉู ุชุง ุขุฎุฑุด ฺฉู ุจู ุณุฑุฏ ฺฉุฑุฏู ูุฑุณู
ูุณุงู ุฒุงุฏ ุจุฑุง ุชูุฑู ูุงุฒ ูุฏุงุฑ
ููุท ฺฉ ุชููพ ฺูุฏุชุง ูุงูุน ู ฺฉ ูุถุง ฺฉู ุจุดู ฺฉุงุฑ ฺฉุฑุฏ ู ุฏูุฏ 
ูููุง ฺฉุงุฑุฑู ุฏุฑ ูุงุฑู โ๏ธโ๏ธโ๏ธ

ุจุฑูุงูู ฑฒ ุฌูุณู ุง (ูุงูุงูู) ูุณุช
ููุช ูุฑ ุจุฑูุงูู  ตนน ุช
ูุงุฑุฒ ุฑู ุงูุฌุงู ุฏุงุฏ ูุด ุฑู  ูููุฌุง ุงุฑุณุงู ูฺฉู ูุฑู ุชู ฺฉุงุฑุด๐ค๐๐"""
        },
        'online_combo': {
            'title': 'ุฏูุฑู ุชูุฑู ุขููุงู: ูุฒูู+ ููุงุฒ',
            'description': """ุชูุถุญุงุช ุฏูุชุง ุจุฑูุงูู ุจุฑุง ุจุงุฒฺฉู ุจุฑู ู ููุช ุจุง ุชุฎูู ฺฉูุง ุจุดู นนน ุชููู

ุงู ูพฺฉุฌ ุดุงูู ูุฑ ุฏู ุฏูุฑู ุขููุงู ูุดู:
โ ุจุฑูุงูู ฺฉุงูู ูุฒูู ุจุง ููู ุขููุฒุด
โ ุจุฑูุงูู ฺฉุงูู ููุงุฒ ู ฺฉุงุฑ ุจุง ุชููพ
โ ฺฏุฑู ฺฉุฑุฏู ุงุฎุชุตุงุต
โ ูพุดุชุจุงู ฺฉุงูู ูู

ููุช ุจุง ุชุฎูู ูฺู: นนน ุชููู (ุจู ุฌุง ฑฑนธ ุชููู)
ูุงุฑุฒ ุฑู ุงูุฌุงู ุฏุงุฏ ูุด ุฑู ูููุฌุง ุงุฑุณุงู ูฺฉู ู ูุฑู ุชู ฺฉุงุฑุด๐ค๐๐"""
        }
    }
